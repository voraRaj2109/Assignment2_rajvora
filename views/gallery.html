<!DOCTYPE html>
<html>
<head>
  <title>Gallery</title>
</head>
<body>
  <h1>Gallery</h1>
  <div id="gallery"></div>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      fetch("/fetch-all-images")
        .then(response => response.json())
        .then(data => {
          const gallery = document.getElementById("gallery");
          data.forEach(file => {
            const img = document.createElement("img");
            img.src = `data:image/jpeg;base64,${file.content}`;
            img.alt = file.name;
            img.width = 200;
            gallery.appendChild(img);
          });
        })
        .catch(error => console.error("Error fetching images:", error));
    });
  </script>
</body>
</html>
